<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub README Generator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.1.0/github-markdown-dark.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <link rel="favicon" src="https://github.githubassets.com/favicons/favicon-dark.png"></link>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #0d1117;
            color: #c9d1d9;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            max-height: 100vh;
        }

        header {
            background: linear-gradient(90deg, #161b22 0%, #1f242d 100%);
            padding: 20px 30px;
            border-bottom: 1px solid #30363d;
            flex-shrink: 0;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .repo-header {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .repo-icon {
            font-size: 32px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        h1 {
            font-size: 24px;
            font-weight: 600;
            background: linear-gradient(90deg, #58a6ff, #8b949e);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .repo-name {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 18px;
            color: #58a6ff;
        }

        .repo-stats {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .stat {
            display: flex;
            align-items: center;
            gap: 6px;
            color: #8b949e;
            font-size: 14px;
            transition: color 0.3s;
        }

        .stat:hover {
            color: #c9d1d9;
        }

        .stat span {
            font-size: 16px;
        }

        .main-content {
            flex: 1;
            overflow: hidden;
            display: flex;
        }

        .readme-container {
            flex: 1;
            overflow-y: auto;
            padding: 30px;
            position: relative;
        }

        .readme-container::-webkit-scrollbar {
            width: 8px;
        }

        .readme-container::-webkit-scrollbar-track {
            background: #161b22;
        }

        .readme-container::-webkit-scrollbar-thumb {
            background: #30363d;
            border-radius: 4px;
        }

        .readme-container::-webkit-scrollbar-thumb:hover {
            background: #484f58;
        }

        .markdown-body {
            background: transparent !important;
            max-width: 900px;
            margin: 0 auto;
            padding: 0;
            font-size: 15px;
            line-height: 1.6;
        }

        .markdown-body h1,
        .markdown-body h2,
        .markdown-body h3 {
            border-bottom: 1px solid #30363d;
            padding-bottom: 8px;
            margin-top: 30px;
            margin-bottom: 16px;
        }

        .markdown-body h1 {
            color: #58a6ff;
            font-size: 28px;
        }

        .markdown-body h2 {
            color: #79c0ff;
            font-size: 24px;
        }

        .markdown-body h3 {
            color: #a5d6ff;
            font-size: 20px;
        }

        .markdown-body code {
            background: rgba(56, 139, 253, 0.15);
            color: #79c0ff;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
            font-size: 13px;
        }

        .markdown-body pre {
            background: #161b22;
            border: 1px solid #30363d;
            border-radius: 8px;
            padding: 16px;
            overflow-x: auto;
            margin: 16px 0;
        }

        .markdown-body pre code {
            background: transparent;
            padding: 0;
            color: inherit;
        }

        .markdown-body blockquote {
            border-left: 4px solid #3fb950;
            padding-left: 16px;
            color: #8b949e;
            margin: 16px 0;
            font-style: italic;
            background: rgba(63, 185, 80, 0.1);
            padding: 12px 16px;
            border-radius: 0 8px 8px 0;
        }

        a {
            color: #58a6ff;
            text-decoration: none;
            transition: color 0.3s;
        }

        .markdown-body a {
            color: #58a6ff;
            text-decoration: none;
            transition: color 0.3s;
        }

        .markdown-body a:hover {
            color: #79c0ff;
            text-decoration: underline;
        }

        .markdown-body img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            border: 1px solid #30363d;
            margin: 16px 0;
            transition: transform 0.3s;
        }

        .markdown-body img:hover {
            transform: scale(1.02);
        }

        .markdown-body table {
            border-collapse: collapse;
            width: 100%;
            margin: 16px 0;
            border: 1px solid #30363d;
        }

        .markdown-body th {
            background: #161b22;
            color: #c9d1d9;
            padding: 12px;
            text-align: left;
            border: 1px solid #30363d;
        }

        .markdown-body td {
            padding: 12px;
            border: 1px solid #30363d;
        }

        .markdown-body tr:nth-child(even) {
            background: rgba(22, 27, 34, 0.5);
        }

        .markdown-body tr:hover {
            background: rgba(88, 166, 255, 0.1);
        }

        .markdown-body ul,
        .markdown-body ol {
            padding-left: 24px;
            margin: 12px 0;
        }

        .markdown-body li {
            margin: 6px 0;
        }

        .markdown-body hr {
            border: none;
            height: 1px;
            background: #30363d;
            margin: 32px 0;
        }

        .loading-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 3px solid #30363d;
            border-top: 3px solid #58a6ff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-container p {
            color: #8b949e;
            font-size: 16px;
        }

        .error-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            padding: 40px;
            background: rgba(248, 81, 73, 0.1);
            border: 1px solid #f85149;
            border-radius: 8px;
        }

        .error-icon {
            font-size: 48px;
            margin-bottom: 20px;
            color: #f85149;
        }

        .error-container h2 {
            color: #f85149;
            margin-bottom: 15px;
        }

        .error-container p {
            color: #8b949e;
            margin-bottom: 25px;
        }

        .retry-btn {
            padding: 10px 24px;
            background: #238636;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .retry-btn:hover {
            background: #2ea043;
        }

        footer {
            padding: 20px;
            text-align: center;
            border-top: 1px solid #30363d;
            background: #161b22;
            flex-shrink: 0;
            font-size: 14px;
            color: #8b949e;
        }

        footer a {
            color: #58a6ff;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        .repo-description {
            color: #8b949e;
            font-style: italic;
            margin-top: 8px;
            font-size: 14px;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
        .markdown-body h1,
        .markdown-body h2,
        .markdown-body h3,
        .markdown-body p,
        .markdown-body ul,
        .markdown-body ol,
        .markdown-body pre,
        .markdown-body table {
            animation: fadeInUp 0.5s ease-out forwards;
            opacity: 0;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
            from {
                opacity: 0;
                transform: translateY(10px);
            }
        }

        /* –ó–∞–¥–µ—Ä–∂–∫–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π */
        .markdown-body h1 { animation-delay: 0.1s; }
        .markdown-body h2 { animation-delay: 0.2s; }
        .markdown-body h3 { animation-delay: 0.3s; }
        .markdown-body p { animation-delay: 0.4s; }
        .markdown-body ul,
        .markdown-body ol { animation-delay: 0.5s; }
        .markdown-body pre { animation-delay: 0.6s; }
        .markdown-body table { animation-delay: 0.7s; }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            header {
                padding: 15px 20px;
            }
            
            .header-content {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .repo-stats {
                width: 100%;
                justify-content: space-between;
            }
            
            .readme-container {
                padding: 20px;
            }
            
            .markdown-body {
                font-size: 14px;
            }
            
            .markdown-body h1 {
                font-size: 24px;
            }
            
            .markdown-body h2 {
                font-size: 20px;
            }
            
            .markdown-body h3 {
                font-size: 18px;
            }
        }

        @media (max-width: 480px) {
            .repo-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }
            
            .repo-stats {
                flex-direction: column;
                gap: 8px;
            }
            
            .readme-container {
                padding: 15px;
            }
        }

        /* –û—Å–æ–±—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∫–æ–¥–∞ */
        .hljs {
            background: transparent !important;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è task lists */
        .markdown-body input[type="checkbox"] {
            margin-right: 8px;
            transform: scale(1.2);
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ü–∏—Ç–∞—Ç –∫–æ–¥–∞ –≤–Ω—É—Ç—Ä–∏ —Ç–µ–∫—Å—Ç–∞ */
        .markdown-body p code {
            word-break: break-word;
        }

        /* –£–ª—É—á—à–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª–∏–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ */
        .markdown-body pre {
            position: relative;
        }

        .markdown-body pre:hover::before {
            content: '';
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(22, 27, 34, 0.8);
            color: #8b949e;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-family: 'SFMono-Regular', monospace;
        }

        /* –≠—Ñ—Ñ–µ–∫—Ç —Å–≤–µ—á–µ–Ω–∏—è –¥–ª—è –≤–∞–∂–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
        .markdown-body strong {
            color: #ff7b72;
        }

        .markdown-body em {
            color: #d2a8ff;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–Ω–æ—Å–æ–∫ */
        .markdown-body .footnotes {
            font-size: 14px;
            color: #8b949e;
            border-top: 1px solid #30363d;
            padding-top: 16px;
            margin-top: 32px;
        }
    </style>
</head>
<body class="dark-theme">
    <div class="container">
        <header>
            <div class="header-content">
                <div class="repo-header">
                    <div class="repo-icon">üì¶</div>
                    <div>
                        <h1>GitHub README Viewer</h1>
                        <div class="repo-name" id="repoName">
                            <!-- –ò–º—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –∏–∑ query args -->
                        </div>
                        <div class="repo-description" id="repoDescription">
                            <!-- –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –∏–∑ API -->
                        </div>
                    </div>
                </div>
                
                <div class="repo-stats" id="repoStats">
                    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –∏–∑ API -->
                </div>
            </div>
        </header>

        <main class="main-content">
            <div class="readme-container">
                <div class="loading-container" id="loading">
                    <div class="spinner"></div>
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ README...</p>
                </div>

                <div class="error-container" id="error" style="display: none;">
                    <div class="error-icon">‚ùå</div>
                    <h2>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</h2>
                    <p id="errorMessage">–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å README</p>
                    <button class="retry-btn" id="retryBtn">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å</button>
                </div>

                <div class="markdown-body" id="readmeContent" style="display: none;">
                    <!-- –ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω README -->
                </div>
            </div>
        </main>

        <footer>
            <p id="footerLinks">
                <!-- –°—Å—ã–ª–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </p>
            <p>–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</p>
        </footer>
    </div>

    <script>
        class ReadmeViewer {
            constructor() {
                this.converter = new showdown.Converter({
                    tables: true,
                    tasklists: true,
                    strikethrough: true,
                    emoji: true,
                    openLinksInNewWindow: true,
                    smoothLivePreview: true,
                    parseImgDimensions: true,
                    simplifiedAutoLink: true,
                    excludeTrailingPunctuationFromURLs: true,
                    literalMidWordUnderscores: true,
                    simpleLineBreaks: true,
                    ghCompatibleHeaderId: true,
                    ghMentions: true,
                    ghCodeBlocks: true
                });
                
                this.repoConfig = this.getRepoFromQuery();
                this.init();
            }

            getRepoFromQuery() {
                const urlParams = new URLSearchParams(window.location.search);
                const owner = urlParams.get('owner') || urlParams.get('user') || urlParams.get('author');
                const repo = urlParams.get('repo') || urlParams.get('repository');
                
                // –ü—Ä–æ–±—É–µ–º —Ç–∞–∫–∂–µ –ø–æ–ª—É—á–∏—Ç—å –∏–∑ —Ñ–æ—Ä–º–∞—Ç–∞ user/repo
                const fullRepo = urlParams.get('q');
                if (fullRepo && fullRepo.includes('/')) {
                    const parts = fullRepo.split('/');
                    if (parts.length >= 2) {
                        return {
                            owner: parts[0],
                            repo: parts[1]
                        };
                    }
                }
                
                // –ï—Å–ª–∏ –≤ URL –µ—Å—Ç—å –ø—É—Ç—å —Ç–∏–ø–∞ /owner/repo
                const pathMatch = window.location.pathname.match(/\/([^\/]+)\/([^\/]+)/);
                if (pathMatch && !owner && !repo) {
                    return {
                        owner: pathMatch[1],
                        repo: pathMatch[2]
                    };
                }
                
                // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –µ—Å–ª–∏ query args –Ω–µ —É–∫–∞–∑–∞–Ω—ã
                return {
                    owner: owner || 'UndefinedClear',
                    repo: repo || 'UndefinedClear-site'
                };
            }

            init() {
                this.updateTitle();
                this.loadReadme();
                this.bindEvents();
            }

            bindEvents() {
                document.getElementById('retryBtn').addEventListener('click', () => this.loadReadme());
                
                // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫ –Ω–∞ GitHub
                document.addEventListener('click', (e) => {
                    if (e.target.tagName === 'A' && e.target.href.includes('github.com')) {
                        e.target.target = '_blank';
                        e.target.rel = 'noopener noreferrer';
                    }
                });
            }

            updateTitle() {
                document.title = `${this.repoConfig.owner}/${this.repoConfig.repo} - README`;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
                const repoNameEl = document.getElementById('repoName');
                repoNameEl.innerHTML = `
                    <span>üì¶</span>
                    <a href="https://github.com/${this.repoConfig.owner}/${this.repoConfig.repo}" 
                       target="_blank" 
                       rel="noopener noreferrer">
                        ${this.repoConfig.owner}/${this.repoConfig.repo}
                    </a>
                `;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Å—ã–ª–∫–∏ –≤ —Ñ—É—Ç–µ—Ä–µ
                const footerLinks = document.getElementById('footerLinks');
                footerLinks.innerHTML = `
                    –ü—Ä–æ—Å–º–æ—Ç—Ä README.md —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è 
                    <a href="https://github.com/${this.repoConfig.owner}/${this.repoConfig.repo}" 
                       target="_blank" 
                       rel="noopener noreferrer">
                        ${this.repoConfig.owner}/${this.repoConfig.repo}
                    </a> | 
                    <a href="?owner=${encodeURIComponent(this.repoConfig.owner)}&repo=${encodeURIComponent(this.repoConfig.repo)}">
                        –ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞
                    </a>
                `;
            }

            async loadReadme() {
                this.showLoading(true);
                this.hideError();

                try {
                    const [repoData, readmeContent] = await Promise.all([
                        this.fetchRepoData(),
                        this.fetchReadme()
                    ]);

                    this.displayRepoInfo(repoData);
                    this.renderReadme(readmeContent);
                    
                    this.showContent();
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º URL —Å query –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
                    this.updateUrl();
                } catch (error) {
                    this.showError(error.message);
                } finally {
                    this.showLoading(false);
                }
            }

            updateUrl() {
                const url = new URL(window.location);
                url.searchParams.set('owner', this.repoConfig.owner);
                url.searchParams.set('repo', this.repoConfig.repo);
                window.history.replaceState({}, '', url);
            }

            async fetchRepoData() {
                const response = await fetch(
                    `https://api.github.com/repos/${this.repoConfig.owner}/${this.repoConfig.repo}`
                );
                
                if (!response.ok) {
                    throw new Error(`–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π "${this.repoConfig.owner}/${this.repoConfig.repo}" –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –¥–æ—Å—Ç—É–ø –æ–≥—Ä–∞–Ω–∏—á–µ–Ω.`);
                }
                
                return response.json();
            }

            async fetchReadme() {
                // –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–±—É–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã
                const readmeFiles = [
                    'README.md',
                    'README.MD',
                    'readme.md',
                    'readme.MD',
                    'README',
                    'readme'
                ];

                for (const filename of readmeFiles) {
                    try {
                        const response = await fetch(
                            `https://api.github.com/repos/${this.repoConfig.owner}/${this.repoConfig.repo}/contents/${filename}`
                        );
                        
                        if (response.ok) {
                            const data = await response.json();
                            const contentResponse = await fetch(data.download_url);
                            if (contentResponse.ok) {
                                return await contentResponse.text();
                            }
                        }
                    } catch (error) {
                        continue;
                    }
                }
                
                // –ï—Å–ª–∏ README –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –∫–æ—Ä–Ω–µ, –∏—â–µ–º –≤ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö
                try {
                    const contentsResponse = await fetch(
                        `https://api.github.com/repos/${this.repoConfig.owner}/${this.repoConfig.repo}/contents`
                    );
                    
                    if (contentsResponse.ok) {
                        const contents = await contentsResponse.json();
                        const readmeFile = contents.find(file => 
                            file.name.toLowerCase().includes('readme') && 
                            (file.name.endsWith('.md') || file.name.endsWith('.txt'))
                        );
                        
                        if (readmeFile) {
                            const contentResponse = await fetch(readmeFile.download_url);
                            if (contentResponse.ok) {
                                return await contentResponse.text();
                            }
                        }
                    }
                } catch (error) {
                    // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º
                }
                
                throw new Error(`–§–∞–π–ª README –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ ${this.repoConfig.owner}/${this.repoConfig.repo}`);
            }

            displayRepoInfo(repoData) {
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ
                const descriptionEl = document.getElementById('repoDescription');
                if (repoData.description) {
                    descriptionEl.textContent = repoData.description;
                } else {
                    descriptionEl.textContent = '–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –±–µ–∑ –æ–ø–∏—Å–∞–Ω–∏—è';
                }

                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                const statsHtml = `
                    <div class="stat">
                        <span>‚≠ê</span>
                        ${repoData.stargazers_count.toLocaleString()}
                    </div>
                    <div class="stat">
                        <span>üç¥</span>
                        ${repoData.forks_count.toLocaleString()}
                    </div>
                    <div class="stat">
                        <span>üëÅÔ∏è</span>
                        ${repoData.watchers_count.toLocaleString()}
                    </div>
                    <div class="stat">
                        <span>üìÅ</span>
                        ${repoData.open_issues.toLocaleString()}
                    </div>
                    ${repoData.language ? `
                        <div class="stat">
                            <span>üíª</span>
                            ${repoData.language}
                        </div>
                    ` : ''}
                `;
                
                document.getElementById('repoStats').innerHTML = statsHtml;
            }

            renderReadme(content) {
                const html = this.converter.makeHtml(content);
                const readmeContent = document.getElementById('readmeContent');
                readmeContent.innerHTML = html;
                
                // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∫–æ–¥–∞
                document.querySelectorAll('pre code').forEach((block) => {
                    hljs.highlightElement(block);
                });

                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                const images = readmeContent.querySelectorAll('img');
                images.forEach((img) => {
                    const src = img.getAttribute('src');
                    if (src && !src.startsWith('http')) {
                        // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ –≤ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ
                        if (src.startsWith('./')) {
                            img.src = `https://raw.githubusercontent.com/${this.repoConfig.owner}/${this.repoConfig.repo}/main/${src.substring(2)}`;
                        } else if (src.startsWith('/')) {
                            img.src = `https://raw.githubusercontent.com/${this.repoConfig.owner}/${this.repoConfig.repo}/main/${src.substring(1)}`;
                        } else {
                            img.src = `https://raw.githubusercontent.com/${this.repoConfig.owner}/${this.repoConfig.repo}/main/${src}`;
                        }
                    }
                    
                    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
                    img.onerror = function() {
                        this.alt = '–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ';
                        this.style.opacity = '0.5';
                        this.style.border = '1px dashed #f85149';
                    };
                });

                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö —Å—Å—ã–ª–æ–∫
                const links = readmeContent.querySelectorAll('a');
                links.forEach((link) => {
                    const href = link.getAttribute('href');
                    if (href && !href.startsWith('http') && !href.startsWith('#')) {
                        // –ï—Å–ª–∏ —Å—Å—ã–ª–∫–∞ –≤–µ–¥–µ—Ç –Ω–∞ –¥—Ä—É–≥–æ–π —Ñ–∞–π–ª –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
                        if (href.endsWith('.md') || href.includes('README')) {
                            link.target = '_blank';
                            link.rel = 'noopener noreferrer';
                            if (href.startsWith('./')) {
                                link.href = `https://github.com/${this.repoConfig.owner}/${this.repoConfig.repo}/blob/main/${href.substring(2)}`;
                            } else if (href.startsWith('/')) {
                                link.href = `https://github.com/${this.repoConfig.owner}/${this.repoConfig.repo}/blob/main/${href.substring(1)}`;
                            } else {
                                link.href = `https://github.com/${this.repoConfig.owner}/${this.repoConfig.repo}/blob/main/${href}`;
                            }
                        }
                    }
                    
                    // –î–ª—è –≤—Å–µ—Ö —Å—Å—ã–ª–æ–∫ –æ—Ç–∫—Ä—ã–≤–∞–µ–º –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ
                    if (href && href.startsWith('http')) {
                        link.target = '_blank';
                        link.rel = 'noopener noreferrer';
                    }
                });

                // –î–æ–±–∞–≤–ª—è–µ–º –∏–∫–æ–Ω–∫—É –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å—Å—ã–ª–æ–∫
                links.forEach(link => {
                    if (link.href && link.href.startsWith('http') && !link.querySelector('.external-icon')) {
                        const icon = document.createElement('span');
                        icon.className = 'external-icon';
                        icon.innerHTML = ' ‚Üó';
                        icon.style.fontSize = '0.8em';
                        icon.style.marginLeft = '2px';
                        link.appendChild(icon);
                    }
                });

                // –ê–Ω–∏–º–∏—Ä—É–µ–º –ø–æ—è–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
                const elements = readmeContent.querySelectorAll('h1, h2, h3, p, ul, ol, pre, table');
                elements.forEach((el, index) => {
                    el.style.animationDelay = `${index * 0.05}s`;
                });
            }

            showLoading(show) {
                document.getElementById('loading').style.display = show ? 'block' : 'none';
            }

            showContent() {
                document.getElementById('loading').style.display = 'none';
                document.getElementById('error').style.display = 'none';
                document.getElementById('readmeContent').style.display = 'block';
                
                // –ü–ª–∞–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª –Ω–∞–≤–µ—Ä—Ö
                document.querySelector('.readme-container').scrollTop = 0;
            }

            showError(message) {
                document.getElementById('loading').style.display = 'none';
                document.getElementById('error').style.display = 'block';
                document.getElementById('readmeContent').style.display = 'none';
                document.getElementById('errorMessage').textContent = message;
            }

            hideError() {
                document.getElementById('error').style.display = 'none';
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        document.addEventListener('DOMContentLoaded', () => {
            new ReadmeViewer();
        });
    </script>
</body>
</html>
